<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    
    <title>如何优雅的在家抢邻居的红包 | Thunf&#39;Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="少抢怡情，多抢伤身，强抢灰飞烟灭，年轻人抢红包要节制😂">
<meta property="og:type" content="article">
<meta property="og:title" content="如何优雅的在家抢邻居的红包">
<meta property="og:url" content="//thunf.me/2016/12/25/20161225-ali-ar/index.html">
<meta property="og:site_name" content="Thunf'Blog">
<meta property="og:description" content="少抢怡情，多抢伤身，强抢灰飞烟灭，年轻人抢红包要节制😂">
<meta property="og:image" content="http://i1.piimg.com/567571/bbc758140b4b6a69.jpg">
<meta property="og:updated_time" content="2016-12-25T14:10:24.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="如何优雅的在家抢邻居的红包">
<meta name="twitter:description" content="少抢怡情，多抢伤身，强抢灰飞烟灭，年轻人抢红包要节制😂">
<meta name="twitter:image" content="http://i1.piimg.com/567571/bbc758140b4b6a69.jpg">
    

    

    
        <link rel="icon" href="/favicon.ico" />
    

    <link rel="stylesheet" href="/vendor/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/vendor/open-sans/styles.css">
    <link rel="stylesheet" href="/vendor/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/vendor/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/vendor/fancybox/jquery.fancybox.css">
    
    
    
    

</head>
<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                
                <span class="site-title">Thunf&#39;Blog</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/.">主页</a>
                
                    <a class="main-nav-link" href="/archives">列表</a>
                
                    <a class="main-nav-link" href="/tags">标签</a>
                
                    <a class="main-nav-link" href="/about">关于</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/css/images/avatar.png" />
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit"> </button><input type="hidden" name="sitesearch" value="//thunf.me"></form>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/.">主页</a></td>
                
                    <td><a class="main-nav-link" href="/archives">列表</a></td>
                
                    <td><a class="main-nav-link" href="/tags">标签</a></td>
                
                    <td><a class="main-nav-link" href="/about">关于</a></td>
                
                <td>
                    
    <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="搜索"><input type="hidden" name="sitesearch" value="//thunf.me"></form>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            <section id="main"><article id="post-20161225-ali-ar" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
            如何优雅的在家抢邻居的红包
        </h1>
    

                <div class="article-meta">
                    
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2016/12/25/20161225-ali-ar/">
            <time datetime="2016-12-25T04:23:18.000Z" itemprop="datePublished">2016-12-25</time>
        </a>
    </div>


                    
                    
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/支付宝/">支付宝</a>, <a class="tag-link" href="/tags/红包/">红包</a>
    </div>

                    
                    <span id="busuanzi_container_page_pv" class="right">
                        已被围观<span id="busuanzi_value_page_pv"></span>次
                    </span>
                    
                </div>

            </header>
        
        <div class="article-entry" itemprop="articleBody">
        
            
                <div id="toc" class="toc-article">
                <strong class="toc-title">文章目录</strong>
                    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#AR红包？"><span class="toc-number">1.</span> <span class="toc-text">AR红包？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PS-AI"><span class="toc-number">2.</span> <span class="toc-text">PS/AI</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#从计划到实现"><span class="toc-number">3.</span> <span class="toc-text">从计划到实现</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#交互方式"><span class="toc-number">3.1.</span> <span class="toc-text">交互方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#技术需求"><span class="toc-number">3.2.</span> <span class="toc-text">技术需求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#技术方案"><span class="toc-number">3.3.</span> <span class="toc-text">技术方案</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#技术点细化"><span class="toc-number">3.4.</span> <span class="toc-text">技术点细化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#技术点确认"><span class="toc-number">3.5.</span> <span class="toc-text">技术点确认</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#实战测试"><span class="toc-number">4.</span> <span class="toc-text">实战测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关于优化"><span class="toc-number">5.</span> <span class="toc-text">关于优化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#写在最后"><span class="toc-number">6.</span> <span class="toc-text">写在最后</span></a></li></ol>
                </div>
            
            <p>少抢怡情，多抢伤身，强抢灰飞烟灭，年轻人抢红包要节制😂</p>
<a id="more"></a>
<p>文末有该方案的github地址，心急的孩子们可以先去体验🔥</p>
<h2 id="AR红包？"><a href="#AR红包？" class="headerlink" title="AR红包？"></a>AR红包？</h2><p>21号的晚些的时候，看到一大堆同事不好好干活，拿着手机满世界扫来扫去，才知道支付宝版本更新了AR抢红包功能。</p>
<p>由于小哥忙于业务不能自拔，再加上不就几块钱的红包嘛，就没再关注这事（平时也不爱抢红包，运气一直组里垫底，不热衷）。</p>
<p>直到周五看到朋友圈有人转发的一篇文章，有老哥花一小时写了个自动合成埋红包图片的服务，遂追到源码本着学习的精神拜读一下。咳咳好失望，这老哥的方法参数都是写死的，突然感觉人生的情怀就这么被点燃了 — 我大前端一个页面分分钟搞定。</p>
<h2 id="PS-AI"><a href="#PS-AI" class="headerlink" title="PS/AI"></a>PS/AI</h2><p>如果一上来就吧唧吧唧敲代码，不管是业务还是技术方案，我都是拒绝的。因为我觉得这事不能按部就班来搞 — 看了网上很多破解的方案，普遍都是一套手动PS方案和一套完全听不懂的人工智能方案（深度卷积网络/Tensorflow/交叉熵，自行黑人问号？？？）</p>
<ul>
<li>考虑了一下：<ul>
<li>PS属于基础版方案（会使画图的人就会用那种，高手会录制动作 + 批量处理我会泄露天机？）；</li>
<li>AI属于高端技术方案（一般人都蒙圈那种，显然咱也是）。</li>
</ul>
</li>
</ul>
<p>那么问题来了，本着前端什么都能做的原则，那就得用前端的方法。况且上面这俩方案实操性确实不方便（一个软件级别：得装，一个服务级别：得搭）。那么有没有可能，只要打开一个网页点点点就可以完成的方式呢？</p>
<h2 id="从计划到实现"><a href="#从计划到实现" class="headerlink" title="从计划到实现"></a>从计划到实现</h2><h3 id="交互方式"><a href="#交互方式" class="headerlink" title="交互方式"></a>交互方式</h3><p>既然一下想不出来实现方案，但想要的页面交互总是可以先定下来：</p>
<ul>
<li>0、把附近的红包线索提示截图</li>
<li>1、打开一个页面，选择想要处理的截图（批量选）</li>
<li>2、处理处理处理中…图片处理好了</li>
<li>3、拿起手机扫扫扫，打开红包，换一个回到3（批量图片用完了回到1）</li>
</ul>
<p>总结一下要做的就是<code>截图</code>+<code>点击选图</code>+<code>扫一扫</code>，其他的都可以归结到技术方案里去实现。<br>那好，现在可以倒推技术需求了。</p>
<h3 id="技术需求"><a href="#技术需求" class="headerlink" title="技术需求"></a>技术需求</h3><ul>
<li>0、批量获取选择的图片数据（本地读取/上传）</li>
<li>1、对每张图片进行图像处理（去掉一脸黑线什么的）</li>
<li>2、显示图片，且最好可以保存（发到其他屏幕上被扫）</li>
<li>3、可能需要微调的交互，需要预留微调参数</li>
</ul>
<p>考虑到不想再搞一套服务做上传（而且我也没有空闲的机器来搞这个），那图片读取就本地化完成最好。<br>下面来制定技术方案。</p>
<h3 id="技术方案"><a href="#技术方案" class="headerlink" title="技术方案"></a>技术方案</h3><ul>
<li>0、获取本地图片数据：通过H5的FileReader这个API可以获得FileList对象（F!!K,连API都能获取到对象了）</li>
<li>1、图像处理：canvas绘制（找开源的图像处理引擎方便），我用了<a href="https://github.com/AlloyTeam/AlloyImage" target="_blank" rel="external">AlloyImage-H5专业级图像处理开源引擎</a></li>
<li>2、保存：既然是canvas就可以输出成base64格式的图片，自然可以保存了</li>
<li>3、微调：尽可能简单，比如选个参数就可以</li>
</ul>
<p>到此除了图像处理的细节，基本都已经靠谱了。那么来想想如何把一张栅格化的图片，变成我们想要的近似图片吧。<br>介于本人自认PS玩的还算顺溜，且对AI一脸懵逼的状态，最后选择了借鉴PS大法的思路。</p>
<h3 id="技术点细化"><a href="#技术点细化" class="headerlink" title="技术点细化"></a>技术点细化</h3><ul>
<li>Version1<ul>
<li>0、通过神秘算法得到黑线区域，通过[选区/叠加/裁剪/其他未知方式]把原图的黑线（就是一脸黑线的黑线）干掉；</li>
<li>1、复制图层，在干掉的区域，使用邻近的部分填充，done。</li>
<li>不确定因素：算法实现及复杂度、性能问题</li>
</ul>
</li>
<li>Version2<ul>
<li>造一个纯栅格的png图片来代替V1中的神秘算法，其他相同</li>
<li>不确定因素：定位到黑线、获得黑线的宽度    </li>
</ul>
</li>
<li>Version3<ul>
<li>使用图层混合模式来替代上述需要挖坑的方案（从 挖坑-填坑模式 转换为 设置混合模式+图层覆盖 模式，此方案一步可替代上述2步）</li>
<li>不确定因素：获得黑线的宽度</li>
</ul>
</li>
</ul>
<p>通过比对（怎么想都是V3最好用），还是选择了V3（不确定因素最少，可行性最高，且不确定因素可抽出作为微调参数）<br>那么现在最后的问题来了：</p>
<ul>
<li>1、选择混合模式</li>
<li>2、获得黑线的宽度</li>
</ul>
<h3 id="技术点确认"><a href="#技术点确认" class="headerlink" title="技术点确认"></a>技术点确认</h3><p>终于到了查阅资料的时候，不过现成了解每种混合模式都没有实际拿一张图扔到PS里看一下效果来的快。<br>于是在惨无人道的模式组合之后（旁白：/[沃特法克]+[什么鬼]+[哎呦不错哦]{1}$/），我发现<code>变亮</code>和<code>浅色</code>两个混合模式符合我的期望。</p>
<p>后续通过查询了解（其他模式也很容易搜到说明）：</p>
<ul>
<li>变亮：对混合的两个图层相对应区域RGB通道中的颜色亮度值进行比较，取较高的的像素点为混合之后的颜色，使得总的颜色灰度的亮度升高，造成变亮的效果</li>
<li>浅色：通过计算混合色与基色所有通道的数值总和，哪个数值大就选为结果色。因此结果色只能在混合色与基色中选择，不会产生第三种颜色</li>
</ul>
<p>实际使用AlloyImage做图像处理时，发现只能使用仅有的<code>变亮</code>模式，那么混合色的灰度亮度就会因“黑线”降低。<br>这一步很好办，使用亮度调节参数，调整图片的亮度和对比对即可。</p>
<p>到此为止，就只剩“黑线的宽度”技术点无法确认了，经过3秒钟思考，决定做成一个可变参数，可以让用户更改选择，思考如下：</p>
<ul>
<li>1、按像素点计算的算法成本 &gt;&gt; 预定义+自定义参数成本</li>
<li>2、经测试机实践，该参数比较稳定，可以直接使用预定义参数</li>
<li>3、即使遇到了诡异的截图尺寸，自行更改尝试几次就可以得出该参数，之后一直使用即可</li>
<li>4、该宽度不会具有大范围的波动值（毕竟每行在原图中占比都很小）</li>
<li>5、可以根据后续反馈进行再优化（说不准明天线索图变策略就不用想这个了）</li>
</ul>
<p>此时，已经完成整体明确的技术方案（技术细节的规划调整是一直进行的），剩下的就是just coding。</p>
<h2 id="实战测试"><a href="#实战测试" class="headerlink" title="实战测试"></a>实战测试</h2><p>随机在AR红包中选择了29个，并进行了扫描，结果如下图（绿色对勾表示可扫出红包来），本次测试成功率约<code>37%</code>。</p>
<p>各类型图片总结如下：</p>
<ul>
<li>秒开：人脸、物件较多/视野开阔场景</li>
<li>换姿势/角度：近距离物品，不规则且画面无明显规律（长直线边缘较少）</li>
<li>死活扫不开：颜色单调（仅黑白或色调相近）、近照带清晰文字、形状极其规则（长直线边缘明显）</li>
</ul>
<p>测试时间（约30min）组成：</p>
<ul>
<li>截图：约5min</li>
<li>图片处理等待：约1min</li>
<li>换屏显示：约3min</li>
<li>找对应红包：约3min</li>
<li>扫码：约5min</li>
<li>扫不成等待：约10min（主要是一开始调试不甘心，后来绕一圈不中就下一张）</li>
<li>其他：约5min（发呆+懵逼+纳闷）</li>
</ul>
<p><img src="http://i1.piimg.com/567571/80447441a3eae7f3.png" alt="实测29张"></p>
<p>抢红包总结（最关心这个对不对）</p>
<ul>
<li>勉强可以吃个早餐(运气不佳，大多几毛几分的)<ul>
<li>这个嘛，不要太认真，本着开心的态度就好</li>
</ul>
</li>
<li>为毛就只有10个成功的？<ul>
<li>因为第11个时候显示“今天领取次数太多，明天再来”（什么时候改的，昨天还看到有人领了10+个，难道咱进黑名单了？）</li>
</ul>
</li>
</ul>
<p><img src="http://i1.piimg.com/567571/08eb65c7dd1582fb.png" alt="次数太多"></p>
<h2 id="关于优化"><a href="#关于优化" class="headerlink" title="关于优化"></a>关于优化</h2><ul>
<li>本着娱乐精神，暂时就不再花时间优化了，反正限制了10个，多扫几个就是了嘛</li>
<li>再说也没想好怎么优化，<code>若是有建议尽管提issue，若是有建议尽管提issue，若是有建议尽管提issue</code></li>
</ul>
<h2 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h2><blockquote>
<p>操作页面：<a href="http://thunf.github.io/aliAR" target="_blank" rel="external">aliAR demo page</a><br>源码github：<a href="https://github.com/Thunf/aliAR" target="_blank" rel="external">aliAR - 支付宝AR红包助手</a><br>源码环境：<a href="https://github.com/xiongwilee/koa-grace" target="_blank" rel="external">koa-grace - 基于koa的标准前后端分离框架</a></p>
</blockquote>
<ul>
<li>巨大的疑问：本着交流学习的态度，应该不会被某宝关小黑屋吧，不然过年抢不到红包怎么办？😂</li>
<li>单身狗圣诞节连一颗苹果都没有收到，唉</li>
<li><a href="http://thunf.me/about/" target="_blank" rel="external">联系方式 or 分享红包 请点这😂</a></li>
</ul>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    

            
    
        <a href="//thunf.me/2016/12/25/20161225-ali-ar/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="//thunf.me/2016/12/25/20161225-ali-ar/">Comments</a>
    

        </footer>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2017/01/20/20170120-form-keys-1000-limit/" id="article-nav-newer" class="article-nav-link-wrap">
            <strong class="article-nav-caption">上一篇</strong>
            <div class="article-nav-title">
                
                    踩坑parameterLimit - 神秘的1000parse限制
                
            </div>
        </a>
    
    
        <a href="/2016/03/03/20160303-blog-resolve-dns/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">下一篇</strong>
            <div class="article-nav-title">把博客托管到github和coding</div>
        </a>
    
</nav>


    
</article>


    
    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>

</section>
            <section id="side">
                
                    
<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/css/images/avatar.png" />
            <h2 id="name">Thunf</h2>
            <h3 id="title">沉醉不知归路</h3>
            <span id="location"><i class="fa fa-map-marker"></i>Beijing, China</span>
            <a id="follow" target="_blank" href="https://github.com/thunf/">FOLLOW</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                <a class="profile-link" href="/archives" >
                    6
                    <span>文章</span>
                </a>                
            </div>
            <div class="article-info-block">
                <a class="profile-link" href="/tags" >
                    9
                    <span>标签</span>
                </a>                
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    <td><a href="http://github.com/thunf" target="_blank" title="github"><i class="fa fa-github"></i></a></td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

                
                
                    <aside id="sidebar">
    
        
    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/10/20/20171019-qudian-ipo-h5/" class="thumbnail">
    
    
        <span style="background-image:url(//img003.qufenqi.com/products/99/92/9992ff0d94a9aed7d83755f892ccf2a8.png)" alt="从策划到传播 - 记趣店IPO快闪H5开发全过程" class="thumbnail-image"></span>
    
</a>
                        </div>
                        
                        <div class="item-inner">
                            <p class="item-title"><a href="/2017/10/20/20171019-qudian-ipo-h5/" class="title">从策划到传播 - 记趣店IPO快闪H5开发全过程</a></p>
                            <p class="item-date"><time datetime="2017-10-20T10:50:35.000Z" itemprop="datePublished">2017-10-20</time></p>
                            <p class="item-category"></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/02/17/20170217-grace-vue-boilerplate/" class="thumbnail">
    
    
        <span style="background-image:url(http://7xrhcw.com1.z0.glb.clouddn.com/blog_vue-grace.jpg)" alt="前后端分离之路 - Vue2项目多入口模板改造方案" class="thumbnail-image"></span>
    
</a>
                        </div>
                        
                        <div class="item-inner">
                            <p class="item-title"><a href="/2017/02/17/20170217-grace-vue-boilerplate/" class="title">前后端分离之路 - Vue2项目多入口模板改造方案</a></p>
                            <p class="item-date"><time datetime="2017-02-17T13:59:07.000Z" itemprop="datePublished">2017-02-17</time></p>
                            <p class="item-category"></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/01/20/20170120-form-keys-1000-limit/" class="thumbnail">
    
    
        <span style="background-image:url(http://img003.qufenqi.com/products/6b/16/6b16f016aa06578523cec21b21c1f8bd.jpg)" alt="踩坑parameterLimit - 神秘的1000parse限制" class="thumbnail-image"></span>
    
</a>
                        </div>
                        
                        <div class="item-inner">
                            <p class="item-title"><a href="/2017/01/20/20170120-form-keys-1000-limit/" class="title">踩坑parameterLimit - 神秘的1000parse限制</a></p>
                            <p class="item-date"><time datetime="2017-01-20T14:31:52.000Z" itemprop="datePublished">2017-01-20</time></p>
                            <p class="item-category"></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/12/25/20161225-ali-ar/" class="thumbnail">
    
    
        <span style="background-image:url(http://i1.piimg.com/567571/bbc758140b4b6a69.jpg)" alt="如何优雅的在家抢邻居的红包" class="thumbnail-image"></span>
    
</a>
                        </div>
                        
                        <div class="item-inner">
                            <p class="item-title"><a href="/2016/12/25/20161225-ali-ar/" class="title">如何优雅的在家抢邻居的红包</a></p>
                            <p class="item-date"><time datetime="2016-12-25T04:23:18.000Z" itemprop="datePublished">2016-12-25</time></p>
                            <p class="item-category"></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/03/03/20160303-blog-resolve-dns/" class="thumbnail">
    
    
        <span style="background-image:url(http://7xrhcw.com1.z0.glb.clouddn.com/16-3-3/72446606.jpg)" alt="把博客托管到github和coding" class="thumbnail-image"></span>
    
</a>
                        </div>
                        
                        <div class="item-inner">
                            <p class="item-title"><a href="/2016/03/03/20160303-blog-resolve-dns/" class="title">把博客托管到github和coding</a></p>
                            <p class="item-date"><time datetime="2016-03-03T05:33:03.000Z" itemprop="datePublished">2016-03-03</time></p>
                            <p class="item-category"></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">Links</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fa fa-chevron-up"></div>
</aside>
                
            </section>
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2017 thunf.me
            <span id="busuanzi_container_site_pv">已被围观<span id="busuanzi_value_site_pv"></span>次</span>
            <br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>.
            Theme from <a href="https://github.com/Thunf/hexo-theme-icarus" target="_blank">icarus</a>
        </div>
    </div>
</footer>
        
    
    <script>
    var disqus_shortname = 'thunf';
    
    
    var disqus_url = '//thunf.me/2016/12/25/20161225-ali-ar/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>



    
        <script src="/vendor/fancybox/jquery.fancybox.pack.js"></script>
    


<!-- Custom Scripts -->
<script src="/js/main.js"></script>

<!-- 不蒜子 -->
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<!-- 百度 -->
<script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?6fc1b43affd6180387495d5ae9845650";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
</script>
    </div>
</body>
</html>